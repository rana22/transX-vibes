<form #userForm="ngForm" class="tdk-form" (ngSubmit)="onSubmit()">
  <div fxLayout="column" class="tdk-flex-form">

    <div fxFlex.xs="100%" fxFlex="95%">
      <div fxLayout="column" fxLayoutAlign="space-around start">

        <mat-form-field fxFlex class="tdk-full-width" *ngIf="newUsername">
          <input fxFlex fxFlexFill matInput placeholder="User Name" [(ngModel)]="model.username" name="username" required>
        </mat-form-field>

        <mat-form-field fxFlex class="tdk-full-width" *ngIf="newPassword">
          <input matInput placeholder="Password" [(ngModel)]="model.password" name="password" type="password" required>
        </mat-form-field>

        <mat-form-field fxFlex class="tdk-full-width">
          <input matInput placeholder="Email" [(ngModel)]="model.email" name="email" required>
        </mat-form-field>

        <mat-form-field fxFlex class="tdk-full-width">
          <input matInput placeholder="First Name" [(ngModel)]="model.firstName" name="firstName" required>
        </mat-form-field>

        <mat-form-field fxFlex class="tdk-full-width">
          <input matInput placeholder="Last Name" [(ngModel)]="model.lastName" name="lastName" required>
        </mat-form-field>

        <mat-select fxFlex class="tdk-full-width" placeholder="Status" [(ngModel)]="model.status" name="status" required>
          <mat-option *ngFor="let status of userStatus" [value]="status">
            {{status}}
          </mat-option>
        </mat-select>

      </div>
    </div>

    <div fxFlex>
      <Label>Roles</Label>
      <chips-input
        [(model)]="userRoles"
        [selectionData]="roles"
        placeholder="Role"
        displayField="type"
        modelField="id"
        formName="roleSelect">
      </chips-input>
    </div>

    <div fxFlex>
      <div class="form-button-group" fxLayout="row" fxLayoutWrap fxLayoutAlign="space-between center">
        <button fxFlex.xs="100%" fxFlex="30%" [disabled]="(userRoles.length == 0) || !validForm(userForm.form.valid)" mat-raised-button type="submit" color="primary">SUBMIT</button>
        <button fxFlex.xs="100%" fxFlex="30%" mat-raised-button  (click)="cancel()" type="button" color="accent">CANCEL</button>
      </div>
    </div>

  </div>
</form>
